<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Birthday & Girlfriend Day Celebration</title>
    <meta name="theme-color" content="#FF69B4" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Birthday Celebration" />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&family=Nunito:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      :root {
        --primary: #ff69b4;
        --secondary: #ffb6c1;
        --accent: #ffd700;
        --background: #fff8f0;
        --text: #8b4513;
      }

      body {
        font-family: "Nunito", sans-serif;
        background: linear-gradient(
          135deg,
          #fff8f0 0%,
          #ffb6c1 50%,
          #ff69b4 100%
        );
        min-height: 100vh;
        overflow-x: hidden;
      }

      .cat-button {
        background: linear-gradient(45deg, var(--primary), var(--secondary));
        color: white;
        font-family: "Comfortaa", cursive;
        font-weight: 600;
        padding: 12px 24px;
        border-radius: 50px;
        box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
        transition: all 0.3s ease;
        cursor: pointer;
        min-height: 44px;
        min-width: 44px;
        border: none;
      }

      .cat-button:hover {
        transform: scale(1.05);
        box-shadow: 0 6px 20px rgba(255, 105, 180, 0.4);
      }

      .flower-card {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 24px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 182, 193, 0.2);
        transition: all 0.3s ease;
      }

      .flower-card:hover {
        transform: scale(1.05);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
      }

      .floating-petal {
        position: absolute;
        pointer-events: none;
        animation: float 6s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(180deg);
        }
      }

      .gradient-text {
        background: linear-gradient(45deg, var(--primary), var(--accent));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .heart-pulse {
        animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }

      .glass-effect {
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.18);
      }

      .text-shadow {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      .game-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        max-width: 1200px;
        margin: 0 auto;
      }

      .photo-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }

      .photo-item {
        position: relative;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .photo-item:hover {
        transform: scale(1.05);
      }

      .photo-item.locked {
        filter: grayscale(100%);
        opacity: 0.6;
      }

      .photo-item img {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }

      .photo-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
        color: white;
        padding: 15px;
        font-family: "Comfortaa", cursive;
      }

      .music-controls {
        position: fixed;
        top: 16px;
        right: 16px;
        z-index: 50;
        display: flex;
        align-items: center;
        gap: 8px;
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border-radius: 50px;
        padding: 8px;
      }

      .volume-slider {
        width: 64px;
        height: 8px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 4px;
        outline: none;
        cursor: pointer;
      }

      .welcome-animation {
        text-align: center;
        animation: fadeInUp 1s ease-out;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .cat-ear {
        position: relative;
      }

      .cat-ear::before,
      .cat-ear::after {
        content: "";
        position: absolute;
        width: 12px;
        height: 12px;
        background: var(--primary);
        border-radius: 50%;
      }

      .cat-ear::before {
        top: -8px;
        left: -4px;
        transform: rotate(-45deg);
      }

      .cat-ear::after {
        top: -8px;
        right: -4px;
        transform: rotate(45deg);
      }
    </style>
  </head>
  <body>
    <!-- Floating Petals Background -->
    <div id="floating-petals"></div>

    <!-- Music Controls -->
    <div class="music-controls">
      <button id="music-toggle" class="cat-button" style="padding: 8px">
        <span id="music-icon">ğŸ”Š</span>
      </button>
      <input
        type="range"
        id="volume-slider"
        class="volume-slider"
        min="0"
        max="1"
        step="0.1"
        value="0.7"
      />
      <span style="color: white">ğŸµ</span>
    </div>

    <!-- Main Content -->
    <div id="app">
      <!-- Welcome Screen -->
      <div
        id="welcome-screen"
        class="min-h-screen flex items-center justify-center"
      >
        <div class="welcome-animation">
          <div class="text-8xl mb-6 animate-bounce">ğŸ‰</div>
          <h1
            class="text-4xl md:text-6xl font-dancing font-bold gradient-text mb-4 text-shadow"
          >
            Happy Birthday, My Love! ğŸ’•
          </h1>
          <p class="text-lg md:text-xl font-nunito text-text/80 mb-8">
            A special celebration with cats and flowers just for you! ğŸŒ¸
          </p>
          <button id="start-btn" class="cat-button text-xl px-8 py-4">
            Start the Celebration! ğŸŠ
          </button>
        </div>
      </div>

      <!-- Main Menu -->
      <div id="main-menu" class="min-h-screen p-6 pt-20 hidden">
        <div class="text-center mb-8">
          <h1
            class="text-4xl md:text-6xl font-dancing font-bold gradient-text mb-4 text-shadow"
          >
            Choose Your Adventure! ğŸŒŸ
          </h1>
          <p class="text-lg font-nunito text-text/80">
            Let's celebrate with some magical games and surprises! ğŸ‰
          </p>
        </div>

        <!-- Photo Gallery -->
        <div class="photo-gallery">
          <div class="photo-item" data-photo="1">
            <img
              src="https://picsum.photos/400/600?random=1"
              alt="The moment I knew you were special"
            />
            <div class="photo-overlay">
              <h3 class="font-comfortaa font-semibold">
                The moment I knew you were special
              </h3>
              <p class="text-sm opacity-90">
                Entry point with your hummed melody
              </p>
            </div>
          </div>
          <div class="photo-item locked" data-photo="2">
            <img
              src="https://picsum.photos/400/600?random=2"
              alt="My favorite memory with you"
            />
            <div class="photo-overlay">
              <h3 class="font-comfortaa font-semibold">
                My favorite memory with you
              </h3>
              <p class="text-sm opacity-90">
                Game reward with recorded love message
              </p>
            </div>
          </div>
          <div class="photo-item locked" data-photo="3">
            <img
              src="https://picsum.photos/400/600?random=3"
              alt="When you make me smile the most"
            />
            <div class="photo-overlay">
              <h3 class="font-comfortaa font-semibold">
                When you make me smile the most
              </h3>
              <p class="text-sm opacity-90">
                Puzzle completion with acoustic guitar
              </p>
            </div>
          </div>
          <div class="photo-item locked" data-photo="4">
            <img
              src="https://picsum.photos/400/600?random=4"
              alt="Happy Birthday, my love!"
            />
            <div class="photo-overlay">
              <h3 class="font-comfortaa font-semibold">
                Happy Birthday, my love!
              </h3>
              <p class="text-sm opacity-90">
                Grand finale with your birthday song recording
              </p>
            </div>
          </div>
        </div>

        <!-- Games Grid -->
        <div class="game-grid">
          <div class="flower-card cursor-pointer" data-game="cat-flower">
            <div class="text-center">
              <div class="text-4xl mb-3">ğŸ±ğŸŒ¸</div>
              <h3 class="text-xl font-comfortaa font-semibold text-text mb-2">
                Cat & Flower Matching
              </h3>
              <p class="text-sm text-text/70 font-nunito">
                Match cats with their favorite flowers
              </p>
            </div>
          </div>

          <div class="flower-card cursor-pointer" data-game="love-puzzle">
            <div class="text-center">
              <div class="text-4xl mb-3">ğŸ’•ğŸ§©</div>
              <h3 class="text-xl font-comfortaa font-semibold text-text mb-2">
                Love Message Puzzle
              </h3>
              <p class="text-sm text-text/70 font-nunito">
                Arrange romantic words to create a melody
              </p>
            </div>
          </div>

          <div class="flower-card cursor-pointer" data-game="relationship-quiz">
            <div class="text-center">
              <div class="text-4xl mb-3">ğŸ’â“</div>
              <h3 class="text-xl font-comfortaa font-semibold text-text mb-2">
                Our Love Story Quiz
              </h3>
              <p class="text-sm text-text/70 font-nunito">
                Test your knowledge about us
              </p>
            </div>
          </div>

          <div class="flower-card cursor-pointer" data-game="virtual-garden">
            <div class="text-center">
              <div class="text-4xl mb-3">ğŸŒºğŸ¡</div>
              <h3 class="text-xl font-comfortaa font-semibold text-text mb-2">
                Virtual Garden
              </h3>
              <p class="text-sm text-text/70 font-nunito">
                Plant flowers and watch cats play
              </p>
            </div>
          </div>

          <div class="flower-card cursor-pointer" data-game="cat-piano">
            <div class="text-center">
              <div class="text-4xl mb-3">ğŸ¹ğŸ¾</div>
              <h3 class="text-xl font-comfortaa font-semibold text-text mb-2">
                Musical Cat Piano
              </h3>
              <p class="text-sm text-text/70 font-nunito">
                Create melodies with cute cats
              </p>
            </div>
          </div>
        </div>

        <!-- Special Message -->
        <div class="text-center mt-8">
          <div
            class="inline-flex items-center gap-2 glass-effect rounded-full px-6 py-3"
          >
            <span class="heart-pulse">ğŸ’–</span>
            <span class="font-dancing text-lg text-text"
              >Made with love for you! ğŸ’–</span
            >
          </div>
        </div>
      </div>

      <!-- Game Screens -->
      <div id="game-screens" class="hidden">
        <div class="p-4">
          <button id="back-btn" class="cat-button mb-4">â† Back to Menu</button>
        </div>
        <div id="game-content" class="min-h-screen p-6"></div>
      </div>
    </div>

    <script>
      // Game State
      let currentView = "welcome";
      let musicEnabled = true;
      let volume = 0.7;
      let unlockedPhotos = [1];
      let completedGames = [];

      // Create floating petals
      function createFloatingPetals() {
        const container = document.getElementById("floating-petals");
        for (let i = 0; i < 20; i++) {
          const petal = document.createElement("div");
          petal.className = "floating-petal text-2xl";
          petal.style.left = Math.random() * 100 + "%";
          petal.style.top = Math.random() * 100 + "%";
          petal.style.animationDelay = Math.random() * 6 + "s";
          petal.style.animationDuration = 6 + Math.random() * 4 + "s";
          petal.innerHTML = "ğŸŒ¸";
          container.appendChild(petal);
        }
      }

      // Navigation functions
      function showView(viewName) {
        currentView = viewName;
        document.getElementById("welcome-screen").classList.add("hidden");
        document.getElementById("main-menu").classList.add("hidden");
        document.getElementById("game-screens").classList.add("hidden");

        if (viewName === "welcome") {
          document.getElementById("welcome-screen").classList.remove("hidden");
        } else if (viewName === "menu") {
          document.getElementById("main-menu").classList.remove("hidden");
        } else if (viewName === "game") {
          document.getElementById("game-screens").classList.remove("hidden");
        }
      }

      // Game functions
      function unlockPhoto(photoId) {
        if (!unlockedPhotos.includes(photoId)) {
          unlockedPhotos.push(photoId);
          const photoElement = document.querySelector(
            `[data-photo="${photoId}"]`
          );
          if (photoElement) {
            photoElement.classList.remove("locked");
          }
        }
      }

      function completeGame(gameId) {
        if (!completedGames.includes(gameId)) {
          completedGames.push(gameId);
          // Unlock next photo based on game completion
          const gameToPhoto = {
            "cat-flower": 2,
            "love-puzzle": 3,
            "relationship-quiz": 4,
            "virtual-garden": 4,
            "cat-piano": 4,
          };
          if (gameToPhoto[gameId]) {
            unlockPhoto(gameToPhoto[gameId]);
          }
        }
      }

      // Music controls
      function toggleMusic() {
        musicEnabled = !musicEnabled;
        const icon = document.getElementById("music-icon");
        icon.textContent = musicEnabled ? "ğŸ”Š" : "ğŸ”‡";
      }

      function updateVolume() {
        volume = parseFloat(document.getElementById("volume-slider").value);
      }

      // Event listeners
      document.getElementById("start-btn").addEventListener("click", () => {
        showView("menu");
      });

      document.getElementById("back-btn").addEventListener("click", () => {
        showView("menu");
      });

      document
        .getElementById("music-toggle")
        .addEventListener("click", toggleMusic);
      document
        .getElementById("volume-slider")
        .addEventListener("input", updateVolume);

      // Game card click handlers
      document.querySelectorAll("[data-game]").forEach((card) => {
        card.addEventListener("click", () => {
          const gameId = card.dataset.game;
          showGame(gameId);
        });
      });

      // Add event listener for complete button (will be added dynamically)
      document.addEventListener("click", function (e) {
        if (e.target && e.target.id === "complete-cat-flower") {
          completeGame("cat-flower");
          showView("menu");
        }
        if (e.target && e.target.id === "complete-quiz") {
          completeGame("relationship-quiz");
          showView("menu");
        }
      });

      function showGame(gameId) {
        showView("game");
        const gameContent = document.getElementById("game-content");

        // Reset game state
        selectedItem = null;
        matchCount = 0;
        quizProgress = 0;
        answeredQuestions.clear();

        const gameTemplates = {
          "cat-flower": `
                     <div class="text-center">
                         <h2 class="text-3xl font-dancing font-bold gradient-text mb-6">ğŸ± Cat & Flower Matching ğŸ±</h2>
                         <p class="text-lg font-nunito mb-8">Match the cute cats with their favorite flowers! Click to match them!</p>
                         <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto mb-8">
                             <div class="flower-card text-center cursor-pointer hover:scale-105 transition-transform" onclick="matchItem(this, 'cat')" data-type="cat" data-matched="false">
                                 <div class="text-4xl mb-2">ğŸ±</div>
                                 <p class="font-comfortaa">Whiskers</p>
                             </div>
                             <div class="flower-card text-center cursor-pointer hover:scale-105 transition-transform" onclick="matchItem(this, 'flower')" data-type="flower" data-matched="false">
                                 <div class="text-4xl mb-2">ğŸŒ¸</div>
                                 <p class="font-comfortaa">Rose</p>
                             </div>
                             <div class="flower-card text-center cursor-pointer hover:scale-105 transition-transform" onclick="matchItem(this, 'cat')" data-type="cat" data-matched="false">
                                 <div class="text-4xl mb-2">ğŸˆ</div>
                                 <p class="font-comfortaa">Mittens</p>
                             </div>
                             <div class="flower-card text-center cursor-pointer hover:scale-105 transition-transform" onclick="matchItem(this, 'flower')" data-type="flower" data-matched="false">
                                 <div class="text-4xl mb-2">ğŸŒ»</div>
                                 <p class="font-comfortaa">Sunflower</p>
                             </div>
                             <div class="flower-card text-center cursor-pointer hover:scale-105 transition-transform" onclick="matchItem(this, 'cat')" data-type="cat" data-matched="false">
                                 <div class="text-4xl mb-2">ğŸ˜º</div>
                                 <p class="font-comfortaa">Luna</p>
                             </div>
                             <div class="flower-card text-center cursor-pointer hover:scale-105 transition-transform" onclick="matchItem(this, 'flower')" data-type="flower" data-matched="false">
                                 <div class="text-4xl mb-2">ğŸŒº</div>
                                 <p class="font-comfortaa">Tulip</p>
                             </div>
                             <div class="flower-card text-center cursor-pointer hover:scale-105 transition-transform" onclick="matchItem(this, 'cat')" data-type="cat" data-matched="false">
                                 <div class="text-4xl mb-2">ğŸ˜¸</div>
                                 <p class="font-comfortaa">Shadow</p>
                             </div>
                             <div class="flower-card text-center cursor-pointer hover:scale-105 transition-transform" onclick="matchItem(this, 'flower')" data-type="flower" data-matched="false">
                                 <div class="text-4xl mb-2">ğŸŒ·</div>
                                 <p class="font-comfortaa">Daisy</p>
                             </div>
                         </div>
                         <div class="text-center">
                             <p class="text-lg font-nunito mb-4">Matches found: <span id="match-count">0</span>/4</p>
                             <button id="complete-cat-flower" class="cat-button mt-4" style="display: none;">Complete Game! ğŸ‰</button>
                         </div>
                     </div>
                 `,
          "love-puzzle": `
                    <div class="text-center">
                        <h2 class="text-3xl font-dancing font-bold gradient-text mb-6">ğŸ’• Love Message Puzzle ğŸ’•</h2>
                        <p class="text-lg font-nunito mb-8">Arrange these romantic words to create a beautiful message!</p>
                        <div class="flex flex-wrap justify-center gap-3 mb-8">
                            <div class="cat-button cursor-move">Love</div>
                            <div class="cat-button cursor-move">You</div>
                            <div class="cat-button cursor-move">Forever</div>
                            <div class="cat-button cursor-move">My</div>
                            <div class="cat-button cursor-move">Heart</div>
                        </div>
                        <button onclick="completeGame('love-puzzle')" class="cat-button">Complete Puzzle! ğŸ§©</button>
                    </div>
                `,
          "relationship-quiz": `
                     <div class="text-center">
                         <h2 class="text-3xl font-dancing font-bold gradient-text mb-6">ğŸ’ Our Love Story Quiz ğŸ’</h2>
                         <p class="text-lg font-nunito mb-8">Test your knowledge about our beautiful relationship!</p>
                         <div class="max-w-2xl mx-auto">
                             <div class="flower-card mb-6">
                                 <h3 class="text-xl font-comfortaa mb-4">What's your favorite thing about me?</h3>
                                 <div class="space-y-3">
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 0)">My smile ğŸ˜Š</button>
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 1)">My laugh ğŸ˜„</button>
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 2)">My kindness ğŸ’–</button>
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 3)">Everything! ğŸŒŸ</button>
                                 </div>
                             </div>
                             <div class="flower-card mb-6">
                                 <h3 class="text-xl font-comfortaa mb-4">What's our favorite activity together?</h3>
                                 <div class="space-y-3">
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 0)">Cuddling on the couch ğŸ›‹ï¸</button>
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 1)">Going on adventures ğŸŒ</button>
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 2)">Cooking together ğŸ‘¨â€ğŸ³</button>
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 3)">All of the above! ğŸ’•</button>
                                 </div>
                             </div>
                             <div class="flower-card mb-6">
                                 <h3 class="text-xl font-comfortaa mb-4">What makes our love special?</h3>
                                 <div class="space-y-3">
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 0)">We understand each other perfectly ğŸ’«</button>
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 1)">We make each other laugh every day ğŸ˜‚</button>
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 2)">We support each other's dreams ğŸŒŸ</button>
                                     <button class="cat-button w-full text-left" onclick="selectAnswer(this, 3)">All of these and more! ğŸ’–</button>
                                 </div>
                             </div>
                         </div>
                         <div class="text-center">
                             <p class="text-lg font-nunito mb-4">Questions answered: <span id="quiz-progress">0</span>/3</p>
                             <button id="complete-quiz" class="cat-button" style="display: none;">Complete Quiz! â“</button>
                         </div>
                     </div>
                 `,
          "virtual-garden": `
                    <div class="text-center">
                        <h2 class="text-3xl font-dancing font-bold gradient-text mb-6">ğŸŒº Virtual Garden ğŸŒº</h2>
                        <p class="text-lg font-nunito mb-8">Click anywhere to plant beautiful flowers and watch cats play!</p>
                        <div class="relative h-96 bg-gradient-to-b from-green-200 to-green-400 rounded-2xl mx-auto max-w-2xl cursor-pointer" onclick="plantFlower(event)">
                            <div class="absolute inset-0 flex items-center justify-center">
                                <p class="text-lg font-comfortaa text-green-800">Click to plant flowers! ğŸŒ¸</p>
                            </div>
                        </div>
                        <button onclick="completeGame('virtual-garden')" class="cat-button mt-8">Complete Garden! ğŸ¡</button>
                    </div>
                `,
          "cat-piano": `
                    <div class="text-center">
                        <h2 class="text-3xl font-dancing font-bold gradient-text mb-6">ğŸ¹ Musical Cat Piano ğŸ¹</h2>
                        <p class="text-lg font-nunito mb-8">Click the cats to create beautiful melodies!</p>
                        <div class="flex justify-center gap-2 mb-8">
                            <div class="cat-button text-2xl cursor-pointer hover:scale-110 transition-transform" onclick="playNote('C')">ğŸ±</div>
                            <div class="cat-button text-2xl cursor-pointer hover:scale-110 transition-transform" onclick="playNote('D')">ğŸˆ</div>
                            <div class="cat-button text-2xl cursor-pointer hover:scale-110 transition-transform" onclick="playNote('E')">ğŸ˜º</div>
                            <div class="cat-button text-2xl cursor-pointer hover:scale-110 transition-transform" onclick="playNote('F')">ğŸ˜¸</div>
                            <div class="cat-button text-2xl cursor-pointer hover:scale-110 transition-transform" onclick="playNote('G')">ğŸ˜½</div>
                        </div>
                        <button onclick="completeGame('cat-piano')" class="cat-button">Complete Piano! ğŸµ</button>
                    </div>
                `,
        };

        gameContent.innerHTML =
          gameTemplates[gameId] || "<p>Game coming soon!</p>";
      }

      function plantFlower(event) {
        const garden = event.currentTarget;
        const rect = garden.getBoundingClientRect();
        const x = event.clientX - rect.left;
        const y = event.clientY - rect.top;

        const flower = document.createElement("div");
        flower.className = "absolute text-2xl animate-bounce";
        flower.style.left = x + "px";
        flower.style.top = y + "px";
        flower.innerHTML = "ğŸŒ¸";

        garden.appendChild(flower);

        setTimeout(() => {
          flower.remove();
        }, 3000);
      }

      // Game logic variables
      let selectedItem = null;
      let matchCount = 0;
      let totalMatches = 4;
      let quizProgress = 0;
      let answeredQuestions = new Set();

      function matchItem(element, type) {
        if (element.dataset.matched === "true") return;

        if (!selectedItem) {
          selectedItem = { element, type };
          element.style.transform = "scale(1.1)";
          element.style.boxShadow = "0 8px 25px rgba(255, 105, 180, 0.5)";
        } else {
          if (selectedItem.type !== type) {
            // Match found!
            selectedItem.element.dataset.matched = "true";
            element.dataset.matched = "true";

            selectedItem.element.style.background =
              "linear-gradient(45deg, #FFD700, #FFA500)";
            element.style.background =
              "linear-gradient(45deg, #FFD700, #FFA500)";

            matchCount++;
            document.getElementById("match-count").textContent = matchCount;

            if (matchCount >= totalMatches) {
              document.getElementById("complete-cat-flower").style.display =
                "inline-block";
            }

            // Add celebration effect
            createCelebrationEffect(element);
          } else {
            // Same type selected, reset
            selectedItem.element.style.transform = "";
            selectedItem.element.style.boxShadow = "";
          }
          selectedItem = null;
        }
      }

      function createCelebrationEffect(element) {
        const celebration = document.createElement("div");
        celebration.className = "absolute text-2xl animate-bounce";
        celebration.style.left = "50%";
        celebration.style.top = "50%";
        celebration.style.transform = "translate(-50%, -50%)";
        celebration.innerHTML = "ğŸ‰";

        element.style.position = "relative";
        element.appendChild(celebration);

        setTimeout(() => {
          celebration.remove();
        }, 2000);
      }

      function selectAnswer(button, answerIndex) {
        // Find the question container
        const questionCard = button.closest(".flower-card");
        const questionId = Array.from(
          document.querySelectorAll(".flower-card")
        ).indexOf(questionCard);

        if (answeredQuestions.has(questionId)) return;

        // Mark as answered
        answeredQuestions.add(questionId);

        // Visual feedback
        button.style.background = "linear-gradient(45deg, #FFD700, #FFA500)";
        button.style.transform = "scale(1.05)";

        // Disable other buttons in this question
        const otherButtons = questionCard.querySelectorAll(".cat-button");
        otherButtons.forEach((btn) => {
          if (btn !== button) {
            btn.style.opacity = "0.5";
            btn.style.pointerEvents = "none";
          }
        });

        // Update progress
        quizProgress++;
        const progressElement = document.getElementById("quiz-progress");
        if (progressElement) {
          progressElement.textContent = quizProgress;
        }

        // Show completion button if all questions answered
        if (quizProgress >= 3) {
          const completeButton = document.getElementById("complete-quiz");
          if (completeButton) {
            completeButton.style.display = "inline-block";
          }
        }

        // Add celebration effect
        createCelebrationEffect(button);
      }

      function playNote(note) {
        console.log(`Playing note: ${note}`);
        // Add visual feedback
        const button = event.target;
        button.style.transform = "scale(1.2)";
        setTimeout(() => {
          button.style.transform = "scale(1)";
        }, 200);

        // Here you would add actual audio functionality
        // Example: new Audio(`sounds/${note}.mp3`).play();
      }

      // Initialize
      createFloatingPetals();
    </script>
  </body>
</html>
